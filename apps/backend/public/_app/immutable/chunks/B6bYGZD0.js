var A=Object.defineProperty;var C=(e,r,t)=>r in e?A(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var h=(e,r,t)=>C(e,typeof r!="symbol"?r+"":r,t);var p=(e,r,t={})=>{let i=`${e}=${r}`;if(e.startsWith("__Secure-")&&!t.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!t.secure)throw new Error("__Host- Cookie must have Secure attributes");if(t.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(t.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(t&&typeof t.maxAge=="number"&&t.maxAge>=0){if(t.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");i+=`; Max-Age=${t.maxAge|0}`}if(t.domain&&t.prefix!=="host"&&(i+=`; Domain=${t.domain}`),t.path&&(i+=`; Path=${t.path}`),t.expires){if(t.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");i+=`; Expires=${t.expires.toUTCString()}`}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.sameSite&&(i+=`; SameSite=${t.sameSite.charAt(0).toUpperCase()+t.sameSite.slice(1)}`),t.priority&&(i+=`; Priority=${t.priority}`),t.partitioned){if(!t.secure)throw new Error("Partitioned Cookie must have Secure attributes");i+="; Partitioned"}return i},U=(e,r,t)=>(r=encodeURIComponent(r),p(e,r,t)),_=(e,r)=>(e=e.replace(/\/+$/,""),e=e+"/",r=r.replace(/^\/+/,""),e+r),v=(e,r)=>{for(const[t,i]of Object.entries(r)){const a=new RegExp("/:"+t+"(?:{[^/]+})?\\??");e=e.replace(a,i?`/${i}`:"")}return e},P=e=>{const r=new URLSearchParams;for(const[t,i]of Object.entries(e))if(i!==void 0)if(Array.isArray(i))for(const a of i)r.append(t,a);else r.set(t,i);return r},$=(e,r)=>{switch(r){case"ws":return e.replace(/^http/,"ws");case"http":return e.replace(/^ws/,"http")}},E=e=>/^https?:\/\/[^\/]+?\/index$/.test(e)?e.replace(/\/index$/,"/"):e.replace(/\/index$/,"");function y(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function b(e,r){if(!y(e)&&!y(r))return r;const t={...e};for(const i in r){const a=r[i];y(t[i])&&y(a)?t[i]=b(t[i],a):t[i]=a}return t}var x=(e,r)=>new Proxy(()=>{},{get(i,a){if(!(typeof a!="string"||a==="then"))return x(e,[...r,a])},apply(i,a,n){return e({path:r,args:n})}}),O=class{constructor(e,r){h(this,"url");h(this,"method");h(this,"queryParams");h(this,"pathParams",{});h(this,"rBody");h(this,"cType");h(this,"fetch",async(e,r)=>{if(e){if(e.query&&(this.queryParams=P(e.query)),e.form){const c=new FormData;for(const[o,f]of Object.entries(e.form))if(Array.isArray(f))for(const d of f)c.append(o,d);else c.append(o,f);this.rBody=c}e.json&&(this.rBody=JSON.stringify(e.json),this.cType="application/json"),e.param&&(this.pathParams=e.param)}let t=this.method.toUpperCase();const i={...e==null?void 0:e.header,...typeof(r==null?void 0:r.headers)=="function"?await r.headers():r==null?void 0:r.headers};if(e!=null&&e.cookie){const c=[];for(const[o,f]of Object.entries(e.cookie))c.push(U(o,f,{path:"/"}));i.Cookie=c.join(",")}this.cType&&(i["Content-Type"]=this.cType);const a=new Headers(i??void 0);let n=this.url;n=E(n),n=v(n,this.pathParams),this.queryParams&&(n=n+"?"+this.queryParams.toString()),t=this.method.toUpperCase();const u=!(t==="GET"||t==="HEAD");return((r==null?void 0:r.fetch)||fetch)(n,{body:u?this.rBody:void 0,method:t,headers:a,...r==null?void 0:r.init})});this.url=e,this.method=r}},j=(e,r)=>x(function t(i){var d;const a=[...i.path],n=a.slice(-3).reverse();if(n[0]==="toString")return n[1]==="name"?n[2]||"":t.toString();if(n[0]==="valueOf")return n[1]==="name"?n[2]||"":t;let u="";if(/^\$/.test(n[0])){const s=a.pop();s&&(u=s.replace(/^\$/,""))}const c=a.join("/"),o=_(e,c);if(u==="url"){let s=o;return i.args[0]&&(i.args[0].param&&(s=v(o,i.args[0].param)),i.args[0].query&&(s=s+"?"+P(i.args[0].query).toString())),new URL(s)}if(u==="ws"){const s=$(i.args[0]&&i.args[0].param?v(o,i.args[0].param):o,"ws"),l=new URL(s),S=(d=i.args[0])==null?void 0:d.query;return S&&Object.entries(S).forEach(([m,w])=>{Array.isArray(w)?w.forEach(k=>l.searchParams.append(m,k)):l.searchParams.set(m,w)}),((...m)=>(r==null?void 0:r.webSocket)!==void 0&&typeof r.webSocket=="function"?r.webSocket(...m):new WebSocket(...m))(l.toString())}const f=new O(o,u);if(u){r??(r={});const s=b(r,{...i.args[1]});return f.fetch(i.args[0],s)}return f},[]);function g(){return""}const q=void 0,D=j(g(),{init:q});export{D as c};
